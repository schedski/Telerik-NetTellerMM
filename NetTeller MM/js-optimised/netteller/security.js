define(["lib/cryptojs","lib/knockout"],function(e,t){var n={nextMessageCheck:"",sessionToken:"",isLoggedIn:!1,isTokenOwner:t.observable(!1),isTokenVerified:t.observable(!1),getDeviceInfo:function(){return window!==undefined&&window.device!==undefined&&window.device.cordova!==undefined?[window.device.name||"Unknown name",window.device.platform||"Unknown Platform",window.device.uuid||"Unknown UUID",window.device.version||"Unknown Version"].join("::"):window!==undefined&&window.navigator!==undefined?String(window.navigator.userAgent||"Unknown user-agent."):"Unknown Platform. No Device Info."},getAuthCode:function(){var t=[n.sessionToken,n.getDeviceInfo(),n.nextMessageCheck].join("|");return e.SHA256(t+"AuthCode").toString(e.enc.Base64)},endSession:function(){n.nextMessageCheck="",n.sessionToken="",n.isLoggedIn=!1,n.isTokenOwner(!1)}};return n})