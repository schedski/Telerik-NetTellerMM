define(["lib/knockout"],function(e){var t="PinLoginToken",n="TokenId",r="HasBeenAskedAboutPin",i="HomePageErrorMessage",s="CanCheckForUpdate",o=function(e,t){try{if(window.localStorage&&window.localStorage.setItem)return window.localStorage.setItem(e,t),!0}catch(n){}return!1},u=function(e){try{if(window.localStorage&&window.localStorage.getItem)return window.localStorage.getItem(e)}catch(t){}return null},a=function(e){try{if(window.localStorage&&window.localStorage.removeItem)return window.localStorage.removeItem(e),!0}catch(t){}return!1},f={hasBeenAskedAboutPin:function(){return u(r)==="true"},setHasBeenAskedAboutPin:function(){o(r,!0)},removeHomePageErrorMessage:function(){a(i)},setHomePageErrorMessage:function(e){o(i,e)},hasHomePageErrorMessage:function(){return u(i)!==null},getHomePageErrorMessage:function(){return u(i)},deregisterPin:function(){a(t),a(n),f.hasPin(!1)},registerPin:function(e,i){o(t,e),o(n,i),o(r,!0),f.hasPin(!0)},hasPin:e.observable(u(t)!==null&&u(n)!==null),getPinLoginToken:function(){return u(t)},getTokenId:function(){return u(n)},setCanCheckForUpdate:function(e){o(s,e)},hasCanCheckForUpdate:function(){return u(s)!==null},removeCanCheckForUpdate:function(){a(s)},getCanCheckForUpdate:function(){return u(s)}};return f})